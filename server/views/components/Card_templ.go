// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.833
package components

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func Card() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div x-data=\"{ \n\t\t\tlike: null,\n\t\t\tlikesCount: 0,\n\t\t\thover: false,\n\t\t\tasync likeCard() {\n\t\t\t\tif (!pb.authStore.isValid) return;\n\n\t\t\t\ttry {\n\n\t\t\t\t\tif (this.like) {\n\t\t\t\t\t\tawait pb.collection(&#39;likes&#39;).delete(this.like.id);\n\t\t\t\t\t\tthis.like = null;\n\t\t\t\t\t\tthis.likesCount--;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.like = await pb.collection(&#39;likes&#39;).create({\n\t\t\t\t\t\tcard: item.id,\n\t\t\t\t\t\tuser: pb.authStore.model.id,\n\t\t\t\t\t});\n\t\t\t\t\tthis.likesCount++;\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync getLikes() {\n\t\t\t\tpb.autoCancellation(false);\n\n\t\t\t\ttry {\n\t\t\t\t\tthis.likesCount = await pb.collection(&#39;likes&#39;).getList(1, 1, {\n\t\t\t\t\t\tfilter: `card = &#39;${item.id}&#39;`,\n\t\t\t\t\t}).then(res =&gt; res.totalItems);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync isLiked() {\n\t\t\t\tif (!pb.authStore.isValid) return;\n\n\t\t\t\ttry {\n\t\t\t\t\tthis.like = await pb.collection(&#39;likes&#39;).getFirstListItem(\n\t\t\t\t\t\t`card = &#39;${item.id}&#39; &amp;&amp; user = &#39;${pb.authStore.model.id}&#39;`\n\t\t\t\t\t).catch(() =&gt; null);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t},\n\t\t}\" class=\"group flex flex-col h-full aspect-[4/2] border border-gray-200 hover:border hover:shadow-md transition duration-300 rounded-xl p-5\" x-init=\"getLikes();isLiked();\" @mouseenter=\"hover = true\" @mouseleave=\"hover = false\"><div class=\"flex items-center justify-between\"><h3 class=\"text-xl font-semibold text-gray-800\" x-text=\"item.title\"></h3><div @click=\"likeCard()\" class=\"flex gap-x-2 cursor-pointer\" :class=\"like ? &#39;text-pink-600&#39; : &#39;text-gray-600&#39;\"><span x-show=\"hover\" x-text=\"likesCount\"></span><!-- OUTLINED ICONS --><svg x-show=\"hover &amp;&amp; !like\" class=\"w-6 h-6 stroke-current\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z\"></path></svg><!-- SOLID ICONS --><svg x-show=\"like\" class=\"w-6 h-6 fill-current\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z\"></path></svg></div></div><div class=\"my-4\"><p class=\"text-gray-600 text-ellipsis line-clamp-3\" x-text=\"item.content\"></p></div><div class=\"mt-auto flex items-center gap-x-3\"><img class=\"size-8 rounded-full\" :src=\"`/avatar/${item.expand.user.id}/${item.expand.user.avatar}`\" alt=\"Avatar\"><h5 class=\"text-sm text-gray-800\">By <span x-text=\"item.expand.user.name\"></span></h5></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
