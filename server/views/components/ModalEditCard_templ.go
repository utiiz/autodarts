// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.833
package components

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func ModalEditCard() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div x-data=\"{\n\t\t\tloading: false,\n\t\t\tediting: false,\n\t\t\tcanDelete: false,\n\t\t\tmodalTitle: &#39;&#39;,\n\t\t\titem: {},\n\t\t\tcardTitle: &#39;&#39;,\n\t\t\tcardContent: &#39;&#39;,\n\t\t\thasChanges() {\n\t\t\t\treturn this.cardTitle !== this.item.title || this.cardContent !== this.item.content;\n\t\t\t},\n\t\t\tasync save() {\n\t\t\t\tthis.loading = true;\n\t\t\t\tif (!this.hasChanges()) {\n\t\t\t\t\tthis.editMode = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\tif (this.item.id) {\n\t\t\t\t\t\tconst record = await pb.collection(&#39;cards&#39;).update(this.item.id, {\n\t\t\t\t\t\t\ttitle: this.cardTitle,\n\t\t\t\t\t\t\tcontent: this.cardContent,\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$dispatch(&#39;items-modified&#39;);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst record = await pb.collection(&#39;cards&#39;).create({\n\t\t\t\t\t\t\ttitle: this.cardTitle,\n\t\t\t\t\t\t\tcontent: this.cardContent,\n\t\t\t\t\t\t\tuser: pb.authStore.model.id\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$dispatch(&#39;items-created&#39;);\n\t\t\t\t\t}\n\t\t\t\t\tthis.editing = false;\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t} finally {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync deleteCard() {\n\t\t\t\tthis.loading = true;\n\t\t\t\ttry {\n\t\t\t\t\tconst record = await pb.collection(&#39;cards&#39;).delete(this.item.id);\n\t\t\t\t\t$dispatch(&#39;items-modified&#39;);\n\t\t\t\t\tthis.editing = false;\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t} finally {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\teditItem(item) {\n\t\t\t\tthis.editing = true;\n\t\t\t\tthis.canDelete = true;\n\t\t\t\tthis.modalTitle = &#39;Edit Card&#39;;\n\t\t\t\tthis.item = item;\n\t\t\t\tthis.cardTitle = item.title;\n\t\t\t\tthis.cardContent = item.content;\n\t\t\t},\n\t\t\tcreateItem() {\n\t\t\t\tthis.editing = true;\n\t\t\t\tthis.canDelete = false;\n\t\t\t\tthis.modalTitle = &#39;Create Card&#39;;\n\t\t\t\tthis.item = {\n\t\t\t\t\ttitle: &#39;&#39;,\n\t\t\t\t\tcontent: &#39;&#39;,\n\t\t\t\t};\n\t\t\t\tthis.cardTitle = &#39;&#39;;\n\t\t\t\tthis.cardContent = &#39;&#39;;\n\t\t\t}\n\t\t}\" @item-edited.window=\"editItem($event.detail)\" @item-created.window=\"createItem()\"><div id=\"hs-task-created-alert\" x-show=\"editing\" x-transition.opacity class=\"size-full fixed top-0 start-0 z-50 bg-black/25 overflow-x-hidden overflow-y-auto flex justify-center items-center\" role=\"dialog\" aria-labelledby=\"hs-task-created-alert-label\"><div class=\"mt-7 opacity-100 duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto\"><div @click.away=\"editing = false\" class=\"relative flex flex-col bg-white shadow-lg rounded-xl\"><div class=\"absolute top-2 end-2\"><button @click=\"editing = false\" type=\"button\" class=\"size-8 inline-flex justify-center items-center gap-x-2 rounded-full border border-transparent bg-gray-100 text-gray-800 hover:bg-gray-200 focus:outline-hidden focus:bg-gray-200 disabled:opacity-50 disabled:pointer-events-none\" aria-label=\"Close\" data-hs-overlay=\"#hs-task-created-alert\"><span class=\"sr-only\">Close</span> <svg class=\"shrink-0 size-4\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M18 6 6 18\"></path><path d=\"m6 6 12 12\"></path></svg></button></div><div class=\"p-4 sm:p-10 text-center overflow-y-auto\"><!-- Icon --><span class=\"mb-4 inline-flex justify-center items-center size-11 rounded-full border-4 border-green-50 bg-green-100 text-green-500\"><svg class=\"shrink-0 size-5\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M16.5 6a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3v7.5a3 3 0 0 0 3 3v-6A4.5 4.5 0 0 1 10.5 6h6Z\"></path> <path d=\"M18 7.5a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3h-7.5a3 3 0 0 1-3-3v-7.5a3 3 0 0 1 3-3H18Z\"></path></svg></span><!-- End Icon --><h3 x-text=\"modalTitle\" id=\"hs-task-created-alert-label\" class=\"mb-2 text-xl font-bold text-gray-800\"></h3><p class=\"text-gray-500\">You can can edit a card you have created. Everyone will be able to see the changes you made <a href=\"/\" @click.prevent=\"loadContent(&#39;/&#39;)\" class=\"inline-flex items-center gap-x-1.5 text-blue-600 decoration-2 hover:underline focus:outline-hidden focus:underline font-medium\">here</a>.</p><div class=\"my-4 sm:my-8 flex flex-col place-items-start\"><label for=\"hs-feedback-post-comment-name-1\" class=\"block mb-2 text-sm font-medium\">Title</label> <input x-model=\"cardTitle\" type=\"text\" class=\"py-2.5 sm:py-3 px-4 block w-full border border-gray-200 rounded-lg sm:text-sm focus:border focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none\" placeholder=\"Title\"></div><div class=\"mb-4 sm:mb-8 flex flex-col place-items-start\"><label class=\"block mb-2 text-sm font-medium\">Content</label><div class=\"mt-1 w-full\"><textarea x-model=\"cardContent\" rows=\"5\" class=\"py-2.5 sm:py-3 px-4 block w-full border border-gray-200 rounded-lg sm:text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none\" placeholder=\"Card content\"></textarea></div></div><div class=\"mt-6 flex justify-center gap-x-4\"><button @click=\"save\" type=\"button\" class=\"\n\t\t\t\t\t\t\t\t\tinline-flex justify-center items-center gap-x-3 \n\t\t\t\t\t\t\t\t\ttext-center text-white text-sm font-medium\n\t\t\t\t\t\t\t\t\tbg-gradient-to-tl from-blue-600 to-violet-600\n\t\t\t\t\t\t\t\t\thover:from-violet-600 hover:to-blue-600\n\t\t\t\t\t\t\t\t\tfocus:from-violet-600 focus:to-blue-600\n\t\t\t\t\t\t\t\t\tborder border-transparent rounded-md py-3 px-4\" data-hs-overlay=\"#hs-task-created-alert\">Save</button> <button @click=\"deleteCard\" type=\"button\" x-show=\"canDelete\" class=\"\n\t\t\t\t\t\t\t\t\tinline-flex justify-center items-center gap-x-3 \n\t\t\t\t\t\t\t\t\ttext-center text-white text-sm font-medium\n\t\t\t\t\t\t\t\t\tbg-gradient-to-tl from-red-600 to-pink-700\n\t\t\t\t\t\t\t\t\thover:from-pink-700 hover:to-red-600\n\t\t\t\t\t\t\t\t\tfocus:from-pink-700 focus:to-red-600\n\t\t\t\t\t\t\t\t\tborder border-transparent rounded-md py-3 px-4\" data-hs-overlay=\"#hs-task-created-alert\">Delete</button> <button @click=\"editing = false\" type=\"button\" class=\"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-2xs hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:bg-gray-50\" data-hs-overlay=\"#hs-task-created-alert\">Cancel</button></div></div></div></div></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
